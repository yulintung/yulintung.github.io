<html>
<head>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <div style="height:100px"></div>
        <div id="qq"></div>
        <div id="list" class="list-group"></div>
        <img id="correct" src="correct.png" />
        <img id="incorrect" src="incorrect.png" />
        <input class="btn btn-primary" type="reset" value="Reset" onclick="location.reload()" />
    </div>
    <script>
        $(document).ready(function() {
            /*$.getJSON('words.json', function(json) {
                $.each(JSON.parse(json), function (index, data) {
                    console.log('1');
                });
            });*/
            $("img#correct").hide();
            $("img#incorrect").hide();
            
            //var wordArray = JSON.parse(jsondata);
            var wordArray = jsondata;
            var order = getRandomNumber(4, wordArray.length);
            console.log(order);

            console.log(wordArray.length);
            console.log(wordArray[order[0]]);
            console.log(wordArray[order[1]]);
            console.log(wordArray[order[2]]);
            console.log(wordArray[order[3]]);

            var correct = getRandomNumber(1,4);
            console.log(correct);
            $("#qq").html('<h4>'+wordArray[order[correct]].kor+'</h4>');
            $("#list").html(
                '<a href="#" id="opt0" class="list-group-item list-group-item-action">'+wordArray[order[0]].cht+"<a>"+
                '<a href="#" id="opt1" class="list-group-item list-group-item-action">'+wordArray[order[1]].cht+"<a>"+
                '<a href="#" id="opt2" class="list-group-item list-group-item-action">'+wordArray[order[2]].cht+"<a>"+
                '<a href="#" id="opt3" class="list-group-item list-group-item-action">'+wordArray[order[3]].cht+"<a>"
            );
            $("#list > a").click(function(obj){
                //console.log(this.id);
                //console.log('opt'+correct);
                if (this.id == 'opt'+correct) {
                    $("img#correct").show();
                    $("img#incorrect").hide();
                } else {
                    $("img#incorrect").show();
                    $("img#correct").hide();
                }
            });
            /*$.each(, function (index, data) {
                console.log(index, data);
            });*/
        });
        var getRandomNumber = function(size, totalSize){
            var str='';
            var arr=[];
            for(i=0;i<size;i++){
                str = Math.round( Math.random()*(totalSize-1));   
                for(j=0;j<arr.length;j++){
                    if(arr[j]==str){
                        arr.splice(j,1);
                        i--;
                    }
                }
                arr.push( str);
            }
            return arr;
        };
        var jsondata = $.getJSON('words.json');
        //var jsondata = '[{"c":"21","kor":"늦을거예요","cht":"會遲到"},{"c":"21","kor":"야근해요","cht":"加班"},{"c":"21","kor":"일찍갈게요","cht":"會早點回去"},{"c":"21","kor":"또","cht":"又再"},{"c":"21","kor":"물라요","cht":"不知道"},{"c":"21","kor":"며칠","cht":"幾月幾日"},{"c":"22","kor":"회의","cht":"會議"},{"c":"22","kor":"준비","cht":"準備"},{"c":"22","kor":"다했어","cht":"完成事情"},{"c":"22","kor":"시작해","cht":"開始"},{"c":"22","kor":"금방해","cht":"立刻、馬上做"},{"c":"22","kor":"과장님","cht":"課長大人"},{"c":"22","kor":"회의실","cht":"會議室"},{"c":"22","kor":"먼저","cht":"首先"},{"c":"22","kor":"대리","cht":"副理"},{"c":"22","kor":"화났어","cht":"生氣了"},{"c":"22","kor":"아파서","cht":"不舒服"},{"c":"22","kor":"병원","cht":"病院"},{"c":"22","kor":"그럼","cht":"那麼"},{"c":"23","kor":"이메일","cht":"電子郵件"},{"c":"23","kor":"확인했어","cht":"檢查確認"},{"c":"23","kor":"지금할게요","cht":"現在去做"},{"c":"23","kor":"출장","cht":"出差"},{"c":"23","kor":"가야돼","cht":"這樣可以嗎"},{"c":"23","kor":"취소야","cht":"取消了"},{"c":"23","kor":"이옷밖에없어요","cht":"這衣服以外沒有/沒有其他衣服"},{"c":"23","kor":"가기전에","cht":"出發之前"},{"c":"23","kor":"셔츠","cht":"襯衫"},{"c":"24","kor":"선배","cht":"前輩"},{"c":"24","kor":"취업","cht":"就職"},{"c":"24","kor":"축하해요","cht":"祝賀"},{"c":"24","kor":"고마워","cht":"謝謝"},{"c":"24","kor":"힘들어요","cht":"困難"},{"c":"24","kor":"이력서","cht":"履歷表"},{"c":"24","kor":"냈어","cht":"投（履歷）"},{"c":"24","kor":"많이냈어요","cht":"投很多（履歷）"},{"c":"24","kor":"한","cht":"一個"},{"c":"24","kor":"군데","cht":"地方"},{"c":"24","kor":"연락","cht":"聯絡"},{"c":"24","kor":"백수야","cht":"無業遊民"},{"c":"24","kor":"돈","cht":"錢"},{"c":"24","kor":"슬퍼요","cht":"可悲"},{"c":"25","kor":"건배","cht":"乾杯"},{"c":"25","kor":"취했어","cht":"喝醉"},{"c":"25","kor":"조금밖에","cht":"一點以外/조금밖에안마셨어요只喝一點點"},{"c":"25","kor":"택시비","cht":"計程車費"},{"c":"25","kor":"빨리","cht":"快點"},{"c":"25","kor":"들어가","cht":"進去"}]';
    </script>
</body>
</html>
